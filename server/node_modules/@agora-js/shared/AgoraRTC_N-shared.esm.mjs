/**
 * AgoraWebSDK_N-v4.20.2-0-g8ae7fdad Copyright AgoraInc.
 */

import e from"ua-parser-js";import t from"axios";const n=()=>{};function r(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:n};return e.promise=new Promise(((t,n)=>{e.resolve=n=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(n),e.value=n)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,n(t))}})),e}function E(e){const t=r();return t.resolve(e),t}function i(e){const t=r(),n=setTimeout(t.resolve,e);return t.cancel=()=>clearTimeout(n),t}const o=new Map,_=new Map,s=new Map;function c(e,t){_.set(e,t)}async function a(e,t,n){o.get(e)||o.set(e,[]),_.get(e)||_.set(e,t),s.get(e)||s.set(e,0);const E=o.get(e),i=_.get(e);if(!E||!i)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(s.get(e)===i){const e=r();E.push(e),await e.promise}s.set(e,s.get(e)+1);for(var c=arguments.length,a=new Array(c>3?c-3:0),T=3;T<c;T++)a[T-3]=arguments[T];const A=await n(...a);return s.set(e,s.get(e)-1),s.get(e)===i-1&&E.length>0&&(E[0].resolve(),E.shift()),0===s.get(e)&&(o.set(e,[]),_.set(e,0),s.set(e,0)),A}var T,A;!function(e){e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.HARMONY_OS="HarmonyOS",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.CHROMIUM_OS="Chromium OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot"}(T||(T={})),function(e){e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger"}(A||(A={}));const I=new e;let R=I.getResult(),N=null;function u(e){if(!N){e&&I.setUA(e),R=I.getResult();const t=O(R),n=S(R),r=C(R),E=R.os.version;if(!(t&&n&&r&&E))return{name:t,version:n,os:r,osVersion:E};N={name:t,version:n,os:r,osVersion:E}}return N}function O(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return A.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return A.CHROME;case"Safari":case"Mobile Safari":return A.SAFARI;case"Edge":return A.EDGE;case"Firefox":return A.FIREFOX;case"QQBrowser":return A.QQ;case"Opera":return A.OPERA;case"WeChat":return A.WECHAT;default:return e.browser.name||""}}function S(e){let t;return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",t.split(".")[0]}function C(e){return"Windows"===e.os.name?e.os.version?e.os.name+" "+e.os.version:e.os.name:e.os.name||""}function l(e){const t=e||navigator.userAgent;let n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===n[1]){const e=t.match(/(OPR(?=\/))\/?(\d+)/i);null!==e&&(n=e)}if("Safari"===n[1]){const e=t.match(/version\/(\d+)/i);null!==e&&(n[2]=e[1])}if(-1!==t.toLowerCase().indexOf("qqbrowser")){const e=t.match(/(qqbrowser(?=\/))\/?(\d+)/i);null!==e&&(n=e)}if(-1!==t.toLowerCase().indexOf("micromessenger")){const e=t.match(/(micromessenger(?=\/))\/?(\d+)/i);null!==e&&(n=e)}if(-1!==t.toLowerCase().indexOf("edge")){const e=t.match(/(edge(?=\/))\/?(\d+)/i);null!==e&&(n=e)}if(-1!==t.toLowerCase().indexOf("trident")){const e=/\brv[ :]+(\d+)/g.exec(t)||[];null!==e&&(n=["","IE",e[1]])}let r=null;const E=[{s:T.WIN_10,r:/(Windows 10.0|Windows NT 10.0)/},{s:T.WIN_81,r:/(Windows 8.1|Windows NT 6.3)/},{s:T.WIN_8,r:/(Windows 8|Windows NT 6.2)/},{s:T.WIN_7,r:/(Windows 7|Windows NT 6.1)/},{s:T.WIN_VISTA,r:/Windows NT 6.0/},{s:T.WIN_SERVER_2003,r:/Windows NT 5.2/},{s:T.WIN_XP,r:/(Windows NT 5.1|Windows XP)/},{s:T.WIN_2000,r:/(Windows NT 5.0|Windows 2000)/},{s:T.ANDROID,r:/Android/},{s:T.OPEN_BSD,r:/OpenBSD/},{s:T.SUN_OS,r:/SunOS/},{s:T.LINUX,r:/(Linux|X11)/},{s:T.IOS,r:/(iPhone|iPad|iPod)/},{s:T.MAC_OS,r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:T.QNX,r:/QNX/},{s:T.UNIX,r:/UNIX/},{s:T.BEOS,r:/BeOS/},{s:T.OS_2,r:/OS\/2/},{s:T.SEARCH_BOT,r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(const e of E)if(e.r.test(t)){r=e.s;break}return{name:n[1],version:n[2],os:r}}function d(){return u().version}function L(){return u().os}function h(){const e=u();return"".concat(e.os," ").concat(e.osVersion)}function D(){const e=u();return!!("WebKit"===R.engine.name&&e.os===T.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==A.SAFARI||w()&&e.name!==A.SAFARI)}function p(){const e=u();if(D()){if(e.os===T.MAC_OS)return!0;if(e.os===T.IOS){const e=R.os.version&&R.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}function f(){return"WebKit"===R.engine.name}function m(){return u().name===A.CHROME}function M(){return u().name===A.SAFARI}function P(){return u().name===A.EDGE}function U(){return u().name===A.FIREFOX}function g(){return u().name===A.OPERA}function y(){return u().name===A.QQ}function w(){return u().os===T.IOS}function b(e){const t=u();return!(t.name!==A.CHROME||!t.osVersion)&&Number(t.version)>=e}function V(e,t,n){const r=u();return!(r.name!==e||!r.osVersion)&&(n?Number(r.version)>=t&&Number(r.version)<=n:Number(r.version)===t)}function v(e){const t=u();return!(t.name!==A.EDGE||!t.osVersion)&&Number(t.version)>=e}function B(e){const t=u();return!(t.name!==A.FIREFOX||!t.osVersion)&&Number(t.version)>=e}function F(e){const t=u();return!(t.name!==A.SAFARI||!t.osVersion)&&Number(t.version)>=e}function G(e,t,n){const r=u();if(r.os!==T.IOS||!r.osVersion)return!1;const E=r.osVersion.split(".");return n?t&&Number(E[0])===e&&Number(E[1])<t||Number(E[0])<e:t?Number(E[0])===e&&Number(E[1])<=t||Number(E[0])<e:Number(E[0])<=e}function K(e,t,n){const r=u();if(r.name!==A.SAFARI||!r.osVersion)return!1;const E=r.version.split(".");return n?t&&Number(E[0])===e&&Number(E[1])<t||Number(E[0])<e:t?Number(E[0])===e&&Number(E[1])<=t||Number(E[0])<e:Number(E[0])<=e}function k(e){const t=u();return!(t.name!==A.OPERA||!t.osVersion)&&Number(t.version)>=e}function W(){const e=u();return!(e.name!==A.CHROME||!e.osVersion)&&Number(e.version)<=90}function H(){return u().os===T.MAC_OS}function Y(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 13===Number(t[0])}function x(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])>=13}function X(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function J(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])}function j(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 16===Number(t[0])}function Q(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 16===Number(t[0])&&Number(t[1])>=0}function z(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&0===Number(t[1])}function q(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function Z(){const e=u();if(e.os!==T.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}function $(){return M()&&navigator.maxTouchPoints>0}function ee(){return u().name===A.WECHAT}function te(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function ne(){const e=L();return e===T.LINUX||e===T.MAC_OS||-1!==e.indexOf("Windows")}function re(){return-1!==L().indexOf("Windows")}function Ee(){const e=L();return e===T.ANDROID||e===T.IOS||e===T.HARMONY_OS}function ie(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return e&&e[0]?e[0].split("/")[1]:null}function oe(){const e=u();if(e.name===A.EDGE||e.name===A.SAFARI)return!1;return!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function _e(){return L()===T.HARMONY_OS}function se(){return L()===T.ANDROID}function ce(){const e=u();return se()&&(e.name===A.CHROME||e.name===A.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}var ae,Te,Ae;!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",e.DATACHANNEL_FAILED="DATACHANNEL_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",e.PROHIBITED_OPERATION="PROHIBITED_OPERATION",e.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",e.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED"}(ae||(ae={}));class Ie extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),this.code=void 0,this.message=void 0,this.data=void 0,this.name="AgoraRTCException",this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1?arguments[1]:void 0;return"error"===e&&(t||console).error(this.toString()),"warning"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print("error",e),this}}function Re(e,t){return new Ie(ae.UNEXPECTED_ERROR,e,t)}function Ne(e,t){if("boolean"!=typeof e)throw new Ie(ae.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function ue(e,t,n){if(n.includes(e))return;throw new Ie(ae.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function Oe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<n||e>r||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return"number"==typeof e&&e%1==0}(e)){throw new Ie(ae.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"))}}function Se(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact)){throw new Ie(ae.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"))}void 0!==e.min&&Oe(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&Oe(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&Oe(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&Oe(e.ideal,"".concat(t,".ideal"),1,1/0)}else Oe(e,t,1,1/0)}function Ce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,E=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new Ie(ae.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!he(e,n,r,E))throw new Ie(ae.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(E?" ASCII characters only.":""))}function le(e,t){if(!Array.isArray(e))throw new Ie(ae.INVALID_PARAMS,"".concat(t," should be an array"))}function de(e,t){const n=Object.keys(e).sort(),r=Object.keys(t).sort();for(let E=0;E<n.length;E+=1){if(n[E]!==r[E])return!1;if(e[n[E]]!==t[n[E]])return!1}return!0}function Le(e){return null==e}function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!r||function(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}(e))}function De(e,t,n){if("getBigInt64"in DataView.prototype)return e.getBigInt64(t,n);const r=Number(!!n),E=Number(!n);return BigInt(e.getInt32(t,n)*E+e.getInt32(t+4,n)*r)<<BigInt(32)|BigInt(e.getUint32(t,n)*r+e.getUint32(t+4,n)*E)}function pe(e,t,n){if("getBigUint64"in DataView.prototype)return e.getBigUint64(t,n);const r=e.getUint32(t,n),E=e.getUint32(t+4,n),i=Number(!!n),o=Number(!n);return BigInt(r*o+E*i)<<BigInt(32)|BigInt(r*i+E*o)}function fe(e,t,n,r){if("setBigInt64"in DataView.prototype)return e.setBigInt64(t,n,r);const E=Number(n>>BigInt(32)),i=Number(n&BigInt(4294967295));r?(e.setInt32(t+4,E,r),e.setUint32(t,i,r)):(e.setInt32(t,E,r),e.setUint32(t+4,i,r))}function me(e,t,n,r){if("setBigUint64"in DataView.prototype)return e.setBigUint64(t,n,r);const E=Number(n>>BigInt(32)),i=Number(n&BigInt(4294967295));r?(e.setUint32(t+4,E,r),e.setUint32(t,i,r)):(e.setUint32(t,E,r),e.setUint32(t+4,i,r))}!function(e){e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE"}(Te||(Te={})),function(e){e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(Ae||(Ae={}));const Me=new class{constructor(){this._clientSize=null,this.getClientWidth=()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth,this.getClientHeight=()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight,this.getStyle=e=>window.getComputedStyle(e,null),this.checkCssVisibleProperty=e=>{let t=!0;const n=this.getStyle(e),{display:r,visibility:E,opacity:i,filter:o}=n;if(("none"===r||["hidden","collapse"].includes(E)||Number(i)<.1)&&(t=!1),!t)return!1;if(o){o.split(" ").filter((e=>{const t=e.split("(")[0];return["brightness","blur","opacity"].includes(t)})).map((e=>{const[t,n]=e.split(/\(|\)/);return[t,Number(n.match(/^[0-9\.]+/))]})).forEach((e=>{const[n,r]=e;switch(n){case"brightness":(r<.1||r>3)&&(t=!1);break;case"blur":r>3&&(t=!1);break;case"opacity":r<.1&&(t=!1)}}))}return t},this.checkPropertyUpToAllParentNodes=(e,t)=>{let n=!0,r=!0;const E=e=>t(e);let i=e;for(;i&&r;){E(i)||(n=!1,r=!1),i=i.parentElement,i||(r=!1)}return n},this.checkActualCssVisibleIncludeInherit=e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty),this.getSizeAboutClient=e=>{const{width:t,height:n,left:r,right:E,top:i,bottom:o}=e.getBoundingClientRect(),_=this.getClientWidth(),s=this.getClientHeight();return{width:t,height:n,left:r,right:E,top:i,bottom:o,clientWidth:_,clientHeight:s,clientMin:Math.min(_,s)}},this.checkActualSize=()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)},this.elementFromPoint=(e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null,this.checkCoverForAPoint=(e,t,n)=>{const r=this.elementFromPoint(e,t);return null!==r&&r!==n},this.getPointPositionList=()=>{const{width:e,height:t,left:n,top:r}=this._clientSize,E=e/6,i=t/6,o=[],_=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const s=(n*_+(0===e?.1:4===e?(E*e*_-1e5)/_:E*e)*_)/_,c=(r*_+(0===t?.1:4===t?(i*t*_-1e5)/_:i*t)*_)/_;o.push({x:s,y:c})}return[...o]},this.checkElementCover=e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6,this.checkSizeIsVisible=(e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10),this.checkSizeOfPartInClient=()=>{const{left:e,right:t,top:n,bottom:r,clientHeight:E,clientWidth:i,clientMin:o}=this._clientSize;let _,s,c,a;if(e<0)_=0;else{if(!(e<i))return!1;_=e}if(t<0)return!1;if(s=t<i?t:i,n<0)c=0;else{if(!(n<E))return!1;c=n}if(r<0)return!1;a=r<E?r:E;const T=s-_,A=a-c;return this.checkSizeIsVisible(T,A,o)},this.returnHiddenResult=e=>(this._clientSize=null,{visible:!1,reason:e}),this.checkOneElementVisible=e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(Te.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(Te.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(Te.SIZE)}}return this.returnHiddenResult(Te.STYLE)}return this.returnHiddenResult(Ae.UNMOUNTED)}return this.returnHiddenResult(Ae.INVALID_HTML_ELEMENT)},this.checkElementIsMountedOnDom=e=>this.checkPropertyUpToAllParentNodes(e,(e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))}};function Pe(e){return(new TextEncoder).encode(e)}const Ue=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n};function ge(e,t){let n="";return new Uint8Array(e).forEach((e=>{n+=e.toString(t).padStart(2,"0")})),n}const ye=async e=>{const t=function(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)n[e]=t.charCodeAt(e);return n}("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),n=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),r=Pe(e),E=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r);return function(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}(new Uint8Array(E))},we=async e=>ge(await crypto.subtle.digest("SHA-256",Pe(e)),16);class be{constructor(){this._events={},this.addListener=this.on}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),E=1;E<n;E++)r[E-1]=arguments[E];for(let n=0;n<t.length;n+=1){const E=t[n];E.once&&this.off(e,E.listener),E.listener.apply(this,r||[])}}safeEmit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,n)}catch(t){console.error("safeEmit event:".concat(e," error ").concat(null==t?void 0:t.toString()))}}))}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}}function Ve(){return!!Fe()}function ve(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,r)=>{const E=document.createElement("div");E.innerText="share screen",E.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const i=document.createElement("div");i.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const o=document.createElement("div");o.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",o.setAttribute("style","height: 12%;");const _=document.createElement("div");_.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const s=document.createElement("div");s.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const c=document.createElement("button");c.innerHTML="cancel",c.setAttribute("style","width: 85px;"),c.onclick=()=>{document.body.removeChild(A);const e=new Error("NotAllowedError");e.name="NotAllowedError",r(e)};let a=t;const T=document.createElement("div");if(t){const e=document.createElement("input");e.setAttribute("type","checkbox");const t=document.createElement("span");e.setAttribute("style","margin-right: 6px;"),t.innerText="Share audio",e.checked=a,e.onchange=()=>{a=e.checked},T.appendChild(e),T.appendChild(t)}s.appendChild(T),s.appendChild(c),i.appendChild(o),i.appendChild(_),i.appendChild(s);const A=document.createElement("div");A.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),A.appendChild(E),A.appendChild(i),document.body.appendChild(A),e.map((e=>{if(e.id){const t=document.createElement("div");t.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let r=e.thumbnail;try{const{width:e}=r.getSize();e>1920&&(r=r.resize({width:1920}))}catch(e){throw e&&e.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),e}t.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+(e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>"),t.onclick=()=>{document.body.removeChild(A),n({sourceId:e.id,audio:a})},_.appendChild(t)}}))}))}let Be=null;function Fe(){if(Be)return Be;if(window.electron)return Be=window.electron;if(!window.require)return null;try{return Be=window.require("electron"),Be}catch(e){return null}}var Ge,Ke,ke,We,He,Ye,xe,Xe;function Je(e){return Oe(e.timeout,"config.timeout",0,1e5),Oe(e.timeoutFactor,"config.timeoutFactor",0,100,!1),Oe(e.maxRetryCount,"config.maxRetryConfig",0,1/0),Oe(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function je(e){return ue(e.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),ue(e.mode,"config.mode",["rtc","live","p2p"]),void 0!==e.audioCodec&&ue(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&Ce(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&ze(e.turnServer),void 0!==e.httpRetryConfig&&Je(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&Je(e.websocketRetryConfig),!0}function Qe(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function ze(e){return Ce(e.turnServerURL,"turnServerURL"),Ce(e.username,"username"),Ce(e.password,"password"),e.udpport&&Oe(e.udpport,"udpport",1,99999,!0),e.forceturn&&Ne(e.forceturn,"forceturn"),e.security&&Ne(e.security,"security"),e.tcpport&&Oe(e.tcpport,"tcpport",1,99999,!0),!0}function qe(e){return ue(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"]),!0}function Ze(e){return ue(e,"role",["audience","host"]),!0}function $e(e){return ue(e,"transport",["default","auto","relay","sd-rtn"]),!0}function et(e){return void 0!==e.level&&ue(e.level,"level",[1,2,3]),void 0!==e.delay&&Oe(e.delay,"delay",0,3e3,!0),!0}function tt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),E=2;E<n;E++)r[E-2]=arguments[E];return 0===e.getListeners(t).length?Promise.reject(new Ie(ae.UNEXPECTED_ERROR,"can not emit promise")):new Promise(((n,E)=>{e.emit(t,...r,n,E)}))}function nt(e,t){if(0===e.getListeners(t).length)return Promise.resolve();for(var n=arguments.length,r=new Array(n>2?n-2:0),E=2;E<n;E++)r[E-2]=arguments[E];return tt(e,t,...r)}function rt(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),E=2;E<n;E++)r[E-2]=arguments[E];return Et(e,t,...r)}function Et(e,t){let n=null,r=null;for(var E=arguments.length,i=new Array(E>2?E-2:0),o=2;o<E;o++)i[o-2]=arguments[o];if(e.emit(t,...i,(e=>{n=e}),(e=>{r=e})),null!==r)throw r;if(null===n)throw new Ie(ae.UNEXPECTED_ERROR,"handler is not sync");return n}!function(e){e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.DATACHANNEL_FAILBACK="Client._datachannelFailback",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",e.IMAGE_MODERATION_UPLOAD="imageModerationUpload"}(Ge||(Ge={})),function(e){e.TRACER="tracer"}(Ke||(Ke={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(ke||(ke={})),function(e){e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.FALLBACK="FALLBACK",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL",e.TOKEN_EXPIRE="TOKEN_EXPIRE"}(We||(We={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.INJECT_STREAM_STATUS="stream-inject-status",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change"}(He||(He={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(Ye||(Ye={})),function(e){e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(xe||(xe={})),function(e){e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(Xe||(Xe={}));const it=new class extends be{set networkState(e){this.emit(Xe.NETWORK_STATE_CHANGE,e,this._networkState),e===xe.ONLINE?this.emit(Xe.ONLINE):e===xe.OFFLINE&&(this.onlineWaiter=new Promise((e=>{this.once(Xe.ONLINE,(()=>{this.onlineWaiter=void 0,e(xe.ONLINE)}))})),this.emit(Xe.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===xe.ONLINE}constructor(){super(),this._moduleName="network-indicator",this._networkState=xe.ONLINE,this.onlineWaiter=void 0,window.addEventListener("online",(()=>{this.networkState=xe.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=xe.OFFLINE}))}};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function at(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function Tt(e){"undefined"!=typeof Promise?Promise.resolve().then(e):setTimeout(e,0)}function At(e){return JSON.parse(JSON.stringify(e))}function It(e){try{return At(e)}catch(t){return e}}function Rt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){const r=e[n];if(e.filter((e=>e===r)).length!==t.filter((e=>e===r)).length)return!1}return!0}function Nt(e,t){const n=Object.keys(e),r=[];for(const E of n)e[E]!==t[E]&&r.push(E);return r}const ut={};function Ot(e,t){ut[t]||(ut[t]=!0,e())}function St(){return"boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname}function Ct(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)n[e]=t.charCodeAt(e);return n}function lt(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e+t.length),0),E=new Uint8Array(new ArrayBuffer(r));let i=0;return t.forEach((e=>{E.set(e,i),i+=e.length})),E}function Lt(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function ht(e){let t=0;return/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+="string"==typeof e?Lt(e):e.size})),t+138}function Dt(e,t,n){const r=e[t];if(!r||"string"!=typeof r)return[e];e[t]="";const E=Lt(JSON.stringify(e));let i=0;const o=[];let _=0;for(let s=0;s<r.length;s++)_+=r.charCodeAt(s)<=127?1:3,_<=n-E||(o[o.length]=_t(_t({},e),{},{[t]:r.substring(i,s)}),i=s,_=r.charCodeAt(s)<=127?1:3);return i!==r.length-1&&(o[o.length]=_t(_t({},e),{},{[t]:r.substring(i)})),o}function pt(e){const t=new Ie(ae.TIMEOUT,"timeout");return new Promise(((n,r)=>{window.setTimeout((()=>r(t)),e)}))}function ft(e,t){return t===1/0?e:Promise.race([e,pt(t)])}function mt(e){return new Promise((t=>{window.setTimeout(t,e)}))}function Mt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+Mt(e-n.length,"")}function Pt(){return"process-".concat(Mt(8,""),"-").concat(Mt(4,""),"-").concat(Mt(4,""),"-").concat(Mt(4,""),"-").concat(Mt(12,""))}function Ut(){return Mt(32,"").toUpperCase()}function gt(e){e.getTracks().forEach((e=>{e.stop()}))}const yt=()=>{};const wt=new class{constructor(){this.fnMap=new Map}throttleByKey(e,t,n,r){for(var E=arguments.length,i=new Array(E>4?E-4:0),o=4;o<E;o++)i[o-4]=arguments[o];if(this.fnMap.has(t)){const E=this.fnMap.get(t);if(E.threshold!==n){E.fn(...E.args),clearTimeout(E.timer);const o=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:o,args:i,skipFn:r})}else E.skipFn&&E.skipFn(...E.args),this.fnMap.set(t,_t(_t({},E),{},{fn:e,args:i,skipFn:r}))}else{const E=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:E,args:i,skipFn:r})}}},bt=wt.throttleByKey.bind(wt);function Vt(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}function vt(e,t){if(!Vt(e)||!Vt(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const n=[...e];for(let r=0;r<t.length;r++)n[r]=vt(e[r],t[r]);return n}{const n=_t({},e);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(e,r)?n[r]=vt(e[r],t[r]):n[r]=t[r]);return n}}function Bt(e){return e!==document.body&&document.body.contains(e)}function Ft(e,t){let n=[0];if(t&&(n=new Array(t).fill(0)),0===e)return n;let r=0;for(;e>0&&(n[r]=255&e,e>>=8,r++,!t||r!==t););return n}function Gt(e){const t="0123456789abcdef";function n(e){let n,r="";for(n=0;n<=3;n++)r+=t.charAt(e>>8*n+4&15)+t.charAt(e>>8*n&15);return r}function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function E(e,t,n,E,i,o){return r(function(e,t){return e<<t|e>>>32-t}(r(r(t,e),r(E,o)),i),n)}function i(e,t,n,r,i,o,_){return E(t&n|~t&r,e,t,i,o,_)}function o(e,t,n,r,i,o,_){return E(t&r|n&~r,e,t,i,o,_)}function _(e,t,n,r,i,o,_){return E(t^n^r,e,t,i,o,_)}function s(e,t,n,r,i,o,_){return E(n^(t|~r),e,t,i,o,_)}const c=function(e){let t;const n=1+(e.length+8>>6),r=new Array(16*n);for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<t%4*8;return r[t>>2]|=128<<t%4*8,r[16*n-2]=8*e.length,r}(e);let a,T,A,I,R,N=1732584193,u=-271733879,O=-1732584194,S=271733878;for(a=0;a<c.length;a+=16)T=N,A=u,I=O,R=S,N=i(N,u,O,S,c[a+0],7,-680876936),S=i(S,N,u,O,c[a+1],12,-389564586),O=i(O,S,N,u,c[a+2],17,606105819),u=i(u,O,S,N,c[a+3],22,-1044525330),N=i(N,u,O,S,c[a+4],7,-176418897),S=i(S,N,u,O,c[a+5],12,1200080426),O=i(O,S,N,u,c[a+6],17,-1473231341),u=i(u,O,S,N,c[a+7],22,-45705983),N=i(N,u,O,S,c[a+8],7,1770035416),S=i(S,N,u,O,c[a+9],12,-1958414417),O=i(O,S,N,u,c[a+10],17,-42063),u=i(u,O,S,N,c[a+11],22,-1990404162),N=i(N,u,O,S,c[a+12],7,1804603682),S=i(S,N,u,O,c[a+13],12,-40341101),O=i(O,S,N,u,c[a+14],17,-1502002290),u=i(u,O,S,N,c[a+15],22,1236535329),N=o(N,u,O,S,c[a+1],5,-165796510),S=o(S,N,u,O,c[a+6],9,-1069501632),O=o(O,S,N,u,c[a+11],14,643717713),u=o(u,O,S,N,c[a+0],20,-373897302),N=o(N,u,O,S,c[a+5],5,-701558691),S=o(S,N,u,O,c[a+10],9,38016083),O=o(O,S,N,u,c[a+15],14,-660478335),u=o(u,O,S,N,c[a+4],20,-405537848),N=o(N,u,O,S,c[a+9],5,568446438),S=o(S,N,u,O,c[a+14],9,-1019803690),O=o(O,S,N,u,c[a+3],14,-187363961),u=o(u,O,S,N,c[a+8],20,1163531501),N=o(N,u,O,S,c[a+13],5,-1444681467),S=o(S,N,u,O,c[a+2],9,-51403784),O=o(O,S,N,u,c[a+7],14,1735328473),u=o(u,O,S,N,c[a+12],20,-1926607734),N=_(N,u,O,S,c[a+5],4,-378558),S=_(S,N,u,O,c[a+8],11,-2022574463),O=_(O,S,N,u,c[a+11],16,1839030562),u=_(u,O,S,N,c[a+14],23,-35309556),N=_(N,u,O,S,c[a+1],4,-1530992060),S=_(S,N,u,O,c[a+4],11,1272893353),O=_(O,S,N,u,c[a+7],16,-155497632),u=_(u,O,S,N,c[a+10],23,-1094730640),N=_(N,u,O,S,c[a+13],4,681279174),S=_(S,N,u,O,c[a+0],11,-358537222),O=_(O,S,N,u,c[a+3],16,-722521979),u=_(u,O,S,N,c[a+6],23,76029189),N=_(N,u,O,S,c[a+9],4,-640364487),S=_(S,N,u,O,c[a+12],11,-421815835),O=_(O,S,N,u,c[a+15],16,530742520),u=_(u,O,S,N,c[a+2],23,-995338651),N=s(N,u,O,S,c[a+0],6,-198630844),S=s(S,N,u,O,c[a+7],10,1126891415),O=s(O,S,N,u,c[a+14],15,-1416354905),u=s(u,O,S,N,c[a+5],21,-57434055),N=s(N,u,O,S,c[a+12],6,1700485571),S=s(S,N,u,O,c[a+3],10,-1894986606),O=s(O,S,N,u,c[a+10],15,-1051523),u=s(u,O,S,N,c[a+1],21,-2054922799),N=s(N,u,O,S,c[a+8],6,1873313359),S=s(S,N,u,O,c[a+15],10,-30611744),O=s(O,S,N,u,c[a+6],15,-1560198380),u=s(u,O,S,N,c[a+13],21,1309151649),N=s(N,u,O,S,c[a+4],6,-145523070),S=s(S,N,u,O,c[a+11],10,-1120210379),O=s(O,S,N,u,c[a+2],15,718787259),u=s(u,O,S,N,c[a+9],21,-343485551),N=r(N,T),u=r(u,A),O=r(O,I),S=r(S,R);return n(N)+n(u)+n(O)+n(S)}function Kt(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(parseInt(e.slice(n,n+2),16));return Uint8Array.from(t)}let kt=1,Wt=console;class Ht{static setLogger(e){Wt=e}constructor(e){this.lockingPromise=Promise.resolve(),this.locks=0,this.name="",this.lockId=void 0,this.lockId=kt++,e&&(this.name=e),Wt.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,Wt.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:""));const n=new Promise((n=>{t=()=>{this.locks-=1,Wt.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:"")),n()}})),r=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>n)),r}}function Yt(e,t){return function(n,r,E){const i=E.value;if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return E.value=async function(){const n=this[t];if(!n)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const E=await n.lock("From ".concat(e,".").concat(r));try{for(var o=arguments.length,_=new Array(o),s=0;s<o;s++)_[s]=arguments[s];return await i.apply(this,_)}finally{E()}},E}}const xt={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function Xt(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function Jt(e,t,n,r){const E=Object.assign({},xt,r);let i=E.timeout;const o=async()=>{await function(e){return new Promise((t=>{window.setTimeout(t,e)}))}(i),i*=E.timeoutFactor,i=Math.min(E.maxRetryTimeout,i)};let _=!1;const s=new Promise((async(r,i)=>{t=t||(()=>!1),n=n||(()=>!0);for(let s=0;s<E.maxRetryCount;s+=1){if(_)return i(new Ie(ae.OPERATION_ABORTED));try{const n=await e();if(!t(n,s))return r(n);if(s+1===E.maxRetryCount)return r(n);await o()}catch(e){if(!n(e,s))return i(e);if(s+1===E.maxRetryCount)return i(e);await o()}}}));return s.cancel=()=>_=!0,s}class jt{constructor(e){this.input=[],this.size=void 0,this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){return 0===this.input.length?0:this.input.reduce(((e,t)=>e+t))/this.input.length}}let Qt,zt=0,qt=0;function Zt(e,n,r,E){return new Promise(((i,o)=>{n.responseType=n.responseType||"json",n.data&&!r?(n.data=JSON.stringify(n.data),zt+=Lt(n.data)):r&&(n.data.size?zt+=n.data.size:n.data instanceof FormData?zt+=ht(n.data):zt+=Lt(JSON.stringify(n.data))),n.headers=n.headers||{},n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json",n.method="POST",n.url=e,t.request(n).then((e=>{"string"==typeof e.data?qt+=Lt(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?qt+=e.data.byteLength:qt+=Lt(JSON.stringify(e.data)),E&&i({data:e.data,headers:e.headers}),i(e.data)})).catch((e=>{t.isCancel(e)?o(new Ie(ae.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new Ie(ae.NETWORK_TIMEOUT,e.message)):e.response?o(new Ie(ae.NETWORK_RESPONSE_ERROR,e.response.status)):o(new Ie(ae.NETWORK_ERROR,e.message))}))}))}async function $t(e,t){const n=new Blob([t.data],{type:"buffer"});return await Zt(e,_t(_t({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}function en(){return zt}function tn(){return qt}function nn(){zt=0,qt=0}class rn{constructor(e){this._transformStream=void 0,this._readable=void 0,this._writable=void 0,this._reader=void 0,this._writer=void 0,this._transformStream=new TransformStream({transform:e}),this._readable=this._transformStream.readable,this._writable=this._transformStream.writable,this._reader=this._readable.getReader(),this._writer=this._writable.getWriter()}get reader(){return this._reader}get writer(){return this._writer}close(){this.writer.releaseLock(),this._writable.close(),this.reader.cancel(),this.reader.releaseLock(),this._readable.cancel()}}function En(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],n=t[2];return"".concat(e,".").concat(n)}const n=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(n&&n[1]&&n[2]){const e=n[1],t=n[2];return"".concat(e,".").concat(100*(Number(t)+1))}return"4.0.0.999"}const on=()=>"HTTPS"===(Qt||Qt||(Qt=(window.location.protocol.split(":")[0]||"").toUpperCase(),Qt)),_n=()=>void 0!==window.isSecureContext;function sn(){return new Promise((e=>{document.body?e():window.addEventListener("load",(()=>e()))}))}const cn=En("4.20.2"),an=function(){try{return!0===JSON.parse("true")}catch(e){return!0}}(),Tn=["CHINA","GLOBAL"];var An;!function(e){e.Default="default",e.Auto="auto",e.Relay="relay",e.SdRtn="sd-rtn"}(An||(An={}));const In="v4.20.2-0-g8ae7fdad(3/20/2024, 4:48:05 PM)",Rn={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:Tn,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TWCC:!1,PUBLISH_TWCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_PUB_RTX:!1,USE_SUB_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:100,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,DISABLE_FEC:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,SVC:[],ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,ENABLE_DATASTREAM_2:!1,DATASTREAM_MAX_RETRANSMITS:10,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_INSTANT_VIDEO:!1,ENABLE_NTP_REPORT:!1,USE_XR:!1,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],PLUGIN_INFO:[]};function Nn(e,t,n){Object.keys(Rn).includes(e)&&(!n&&Object.keys(On).includes(e)||(Rn[e]=t,"ENABLE_VIDEO_SEI"===e&&!0===t&&(Rn.ENABLE_ENCODED_TRANSFORM=!0)))}function un(e){return Rn[e]}const On={};var Sn;!function(e){e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_INT_UID="SET_INT_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS",e.SET_USE_DATACHANNEL="SET_USE_DATACHANNEL",e.SET_USE_P2P="SET_USE_P2P",e.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE"}(Sn||(Sn={}));class Cn{constructor(e,t,n,r){this.state=void 0,this.state={codec:e,audioCodec:t,mode:n,clientId:r,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useDataChannel:!1,useP2P:!1,p2pTransport:An.Default}}dispatch(e){this.state=function(e,t){switch(t.type){case Sn.SET_SESSION_ID:return _t(_t({},e),{},{sessionId:t.sessionId});case Sn.SET_P2P_ID:return _t(_t({},e),{},{p2pId:t.p2pId});case Sn.SET_UID:return _t(_t({},e),{},{uid:t.uid});case Sn.SET_INT_UID:return _t(_t({},e),{},{intUid:t.intUid});case Sn.SET_PUB_ID:return _t(_t({},e),{},{pubId:t.pubId});case Sn.KEY_METRIC_CLIENT_CREATED:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{clientCreated:t.metric})});case Sn.KEY_METRIC_JOIN_START:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{joinStart:t.metric})});case Sn.AVOID_JOIN_START:return _t(_t({},e),{},{avoidJoinStart:t.avoidJoinStart});case Sn.KEY_METRIC_JOIN_END:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{joinEnd:t.metric})});case Sn.KEY_METRIC_REQUEST_AP_START:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{requestAPStart:t.metric})});case Sn.KEY_METRIC_REQUEST_AP_END:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{requestAPEnd:t.metric})});case Sn.KEY_METRIC_JOIN_GATEWAY_START:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case Sn.KEY_METRIC_JOIN_GATEWAY_END:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case Sn.KEY_METRIC_PEER_CONNECTION_START:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case Sn.KEY_METRIC_PEER_CONNECTION_END:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case Sn.KEY_METRIC_DESCRIPTION_START:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{descriptionStart:t.metric})});case Sn.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case Sn.KEY_METRIC_ICE_CONNECTION_END:return _t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case Sn.KEY_METRIC_PUBLISH:{const n=e.keyMetrics.publish,r=n.findIndex((e=>e.trackId===t.metric.trackId));return-1!==r?(n[r]=_t(_t({},n[r]),t.metric),_t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{publish:[...n]})})):_t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case Sn.KEY_METRIC_SUBSCRIBE:{const n=e.keyMetrics.subscribe,r=n.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==r?(n[r]=_t(_t({},n[r]),t.metric),_t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{subscribe:[...n]})})):_t(_t({},e),{},{keyMetrics:_t(_t({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case Sn.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case Sn.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=_t(_t({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case Sn.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case Sn.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case Sn.SET_USE_DATACHANNEL:return _t(_t({},e),{},{useDataChannel:t.val});case Sn.SET_USE_P2P:return _t(_t({},e),{},{useP2P:t.val});case Sn.SET_TRANSPORT_TYPE:return _t(_t({},e),{},{p2pTransport:t.val});default:return e}}(this.state,e)}set sessionId(e){this.dispatch({type:Sn.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:Sn.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:Sn.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:Sn.SET_UID,uid:e})}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:Sn.SET_INT_UID,intUid:e})}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:Sn.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:Sn.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useDataChannel(e){this.dispatch({type:Sn.SET_USE_DATACHANNEL,val:e})}get useDataChannel(){return this.state.useDataChannel}set useP2P(e){this.dispatch({type:Sn.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:Sn.SET_TRANSPORT_TYPE,val:e})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:Sn.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:Sn.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:Sn.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:Sn.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:Sn.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:Sn.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:Sn.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:Sn.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:Sn.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:Sn.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:Sn.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:Sn.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,n,r){this.dispatch({type:Sn.KEY_METRIC_PUBLISH,metric:_t(_t({trackId:e,type:t},n&&{publishStart:n}),r&&{publishEnd:r})})}subscribe(e,t,n,r,E,i,o){this.dispatch({type:Sn.KEY_METRIC_SUBSCRIBE,metric:_t(_t(_t(_t(_t({userId:e,type:t},n&&{subscribeStart:n}),r&&{subscribeEnd:r}),E&&{firstFrame:E}),i&&{streamAdded:i}),o&&{firstDecoded:o})})}massSubscribe(e,t,n,r){e.forEach((e=>{this.dispatch({type:Sn.KEY_METRIC_SUBSCRIBE,metric:_t(_t(_t({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),r&&{firstFrame:r})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof t?(this.dispatch({type:Sn.RECORD_JOIN_CHANNEL_SERVICE,record:_t(_t({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:Sn.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:Sn.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:Sn.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:Sn.AVOID_JOIN_START,avoidJoinStart:e})}}var ln,dn;!function(e){e.h264="h264",e.h265="h265",e.vp8="vp8",e.vp9="vp9",e.av1="av1"}(ln||(ln={})),function(e){e.opus="opus",e.pcma="pcma",e.pcmu="pcmu",e.g722="g722"}(dn||(dn={}));const Ln=128,hn=96,Dn=1e3,pn=10;let fn=0;async function mn(e,t,n){const r=Array.from(n).reduce(((e,t)=>e+t),0),E={serverTs:0,seq:fn++,length:n.length,checkSum:r},i=new Uint8Array(Ft(r,2)),o=new ArrayBuffer(pn),_=new DataView(o);_.setUint32(0,E.serverTs),_.setUint16(4,E.seq),_.setUint16(6,E.length),_.setUint16(8,E.checkSum);const s=16-n.length%16;n=dt(n,new Uint8Array(s));const c=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:e,tagLength:Ln,additionalData:i},t,n);return dt(new Uint8Array(o),new Uint8Array(c))}async function Mn(e,t,n){const r=n.subarray(0,pn),E=r.slice(8,pn),i=(E[0]<<8)+E[1],o=(r[6]<<8)+r[7],_=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e,tagLength:Ln,additionalData:new Uint8Array(Ft(i,2))},t,n.subarray(pn));return n=new Uint8Array(_).subarray(0,o)}async function Pn(e,t,n){const r=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),E="aes-128-gcm2"===e?128:256,i=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:Dn,hash:"SHA-256",salt:n},r,E+hn);return new Uint8Array(i).subarray(E/8)}async function Un(e,t,n){const r=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),E="aes-128-gcm2"===e?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:Dn,hash:"SHA-256",salt:n},r,{name:"AES-GCM",length:E},!0,["encrypt","decrypt"])}export{Ge as AgoraAPIName,Ke as AgoraAPITag,Ie as AgoraRTCError,ae as AgoraRTCErrorCode,ke as AudienceLatencyLevelType,dn as AudioCodec,In as BUILD,A as BrowserName,T as BrowserOS,pn as CRYPTO_HEADER_LENGTH,Dn as CRYPTO_ITERATIONS,hn as CRYPTO_IV_LENGTH,Ln as CRYPTO_TAG_LENGTH,He as ClientEvents,We as ConnectionDisconnectedReason,Tn as DEFAULT_AREAS,xt as DEFAULT_RETRY_CONFIG,be as EventEmitter,an as IS_GLOBAL_VERSION,Rn as MUTABLE_PARAMS,On as MUTABLE_PARAMS_LOCAL_CACHE,Xe as NETWORK_INDICATOR_EVENTS,xe as NETWORK_STATE,An as P2PTransportType,Ht as PromiseMutex,jt as Rolling,Cn as SDKStore,we as SHA256,rn as TransformStreamAdapter,cn as VERSION,ln as VideoCodec,Ye as WebSocketQuitReason,Ue as appendBuffer,Yt as atom,Ct as base64ToUint8Array,ge as bufferToStr,de as checkIsEqual,le as checkValidArray,Ne as checkValidBoolean,Se as checkValidConstrainLong,ue as checkValidEnum,Oe as checkValidNumber,Ce as checkValidString,Rt as compareArray,a as concurrent,r as createDefer,Re as createInternalUnexpectedError,E as createResolvedDefer,i as createTimeoutDefer,Mn as decryptAesGcm,l as deprecatedGetBrowserInfo,St as detectSecureContext,Dt as dividePackage,sn as domLoadedPromise,Me as elementVisibleChecker,Et as emitAsInvoker,rt as emitAsInvokerNoResponse,tt as emitAsPromise,nt as emitAsPromiseNoResponse,mn as encryptAesGcm,ye as encryptRSA,Pn as generateIv,Un as generateKey,Pt as generateProcessID,Ut as generateSessionID,De as getBigInt64,pe as getBigUint64,u as getBrowserInfo,L as getBrowserOS,d as getBrowserVersion,Nt as getChangedKeysFromObject,ie as getChromeKernelVersion,Fe as getElectronInstance,tn as getHTTPRecvBytes,en as getHTTPSendBytes,Pe as getMessageEncoding,ht as getMultiUnilbsFormDataByteLength,h as getOSWithVersion,un as getParameter,Mt as getRandomString,Xt as getRetryWaitTime,Lt as getUTF8StringByteLength,at as getUniqueList,Kt as hexToBytes,b as isAboveChrome,v as isAboveEdge,B as isAboveFirefox,x as isAboveIOS13,q as isAboveIOS15_1,Z as isAboveIOS15_2,Q as isAboveIOS16_0,k as isAboveOpera,F as isAboveSafari,se as isAndroid,ce as isAndroidChromium,G as isBelowIOS,X as isBelowIOS14_6,K as isBelowSafari,V as isBetweenBrowser,m as isChrome,W as isChromeBelow90,oe as isChromeKernel,je as isClientConfig,Ze as isClientRole,et as isClientRoleOptions,P as isEdge,Ve as isElectron,Le as isEmpty,qe as isEncryptionMode,U as isFirefox,_e as isHarmonyOS,on as isHttpsEnv,w as isIOS,Y as isIOS13,J as isIOS15,z as isIOS15_0,j as isIOS16,Bt as isInPage,$ as isIpadOS,te as isLegacyChrome,H as isMacOS,g as isOpera,$e as isP2PTransport,y as isQQBrowser,Qe as isRTCIceServerList,Je as isRetryConfiguration,M as isSafari,Ee as isSupportedMobile,ne as isSupportedPC,p as isSupportedWkWebview,ze as isTurnServerConfig,he as isValidString,f as isWebKit,ee as isWechatBrowser,re as isWindows,D as isWkWebview,At as jsonClone,Gt as md5,it as networkIndicator,Tt as nextTick,yt as noop,Zt as post,$t as postProtobuf,vt as recursiveMerge,gt as releaseStream,ct as removeItemFromList,nn as resetHTTPBytesCount,Jt as retryable,Ot as runOnce,It as safeCloneJson,fe as setBigInt64,me as setBigUint64,Nn as setParameter,Ft as shiftAndPush,ve as showElectronSelectSourceWindow,_n as supportIsSecureContext,bt as throttleByKey,pt as timeout,En as transferVersion,O as transformBrowserName,S as transformBrowserVersion,C as transformOSName,dt as uint8ArrayConcat,lt as uint8ArrayToBase64,c as updateConcurrentNumber,mt as wait,ft as withTimeout};
